<% layout('layouts/boilerplate') %>
<link href="/stylesheets/home.css" rel="stylesheet" type="text/css">

<header class="header-area overlay">
    <div class="banner">
        <div class="container">
            <h1>Books</h1>
            <!-- <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec elit ex. Etiam elementum lectus et tempor molestie.</p> -->
            <span class="search-icon search-icon2"><i class="fas fa-search"></i></span>
        </div>
    </div>
</header>

<main>
<section id="content" class="content">
    <div class="container overflow-hidden">
        <div class="row card-list gy-5">
            <div class="col-6">
                <div class="p-3 cards card-1" onclick="location.href='/Daily Top 100';"><div class="texty text-nowrap">Daily Top 100</div></div>
            </div>
            <div class="col-6">
                <div class="p-3 cards card-2" onclick="location.href='/New releases';"><div class="texty text-nowrap">New releases</div></div>
            </div>
            <div class="col-6">
                <div class="p-3 cards card-3"onclick="location.href='/Bestsellers'"><div class="texty text-nowrap">Bestsellers</div></div>
            </div>
            <div class="col-6">
                <div class="p-3 cards card-4"onclick="location.href='/Top Authors'"><div class="texty text-nowrap">Top Authors</div></div>
            </div>
        </div>
      </div>
</section>

<% for (let i=0;i<4;i++){  %> 
    <div class="container categories">
        <p class="span-category"><%= categoriesdata[i] %> </p>
        <div class="line"></div>
            <div class="category-items">
                <% for(let item of resp[i]) {%> 
                    <div class="category-item">
                        <div class="item-img">
                            <% if(item.volumeInfo.imageLinks){ %>
                                <img src="<%= item.volumeInfo.imageLinks.thumbnail %>" alt="" class="item-image" onclick="window.location.href='<%= item.volumeInfo.infoLink %>'">
                            <% } %> 
                        </div>
                        <div class="item-data">
                            <a href="<%= item.volumeInfo.infoLink %> " class="item-title"><%= item.volumeInfo.title %> </a>
                            <% if(item.volumeInfo.authors){ %> 
                            <% for(let author of item.volumeInfo.authors){ %>  
                                    <a href="/search/<%= author %>" class="item-author"><%= author %> </a>
                            <% }%> 
                            <% } %> 
                            <br>
                            <% if(item.volumeInfo.categories){ %> 
                            <a href="/search/<%= item.volumeInfo.categories[0] %>" class="item-category"><%= item.volumeInfo.categories[0]%> </a>
                            <% } %> 
                        </div>
                    </div>
                <% } %> 
            </div>  
    </div>
<% } %> 

<a href="/categories" class="more-categories">More Categories>></a>
</main>
<script src="/javascripts/home.js"></script>